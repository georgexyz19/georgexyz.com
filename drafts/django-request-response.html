<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"> -->
    <link rel="stylesheet" href="/theme/css/bs4min.css">
    <link rel="shortcut icon" type="image/x-icon" href="https://www.georgexyz.com/theme/images/favicon.ico" >
    <link rel="icon" type="image/x-icon" href="https://www.georgexyz.com/theme/images/favicon.ico" >
<link rel="stylesheet" href="https://www.georgexyz.com/theme/css/friendly.css">
<link rel="stylesheet" href="https://www.georgexyz.com/theme/css/custom.css">
<meta name="author" content="George Zhang" />
<meta name="keywords" content="django" />
<meta name="description" content="Most Django tutorials and books do not discuss how the web framework starts and finishes. A developer needs to dig into source code and online blog posts to find out …" />
    <title>What is WSGI Request/Response Process - George Zhang</title>
  </head>
  <body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-md navbar-light" style="background-color: #e3f2fd;">
      <div class="container">
        <a class="navbar-brand" href="/">George Zhang</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link " 
                href="/articlelist.html">Articles</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pr-3 " 
                href="/tags.html">Tags</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pr-3 "
                 href="/pages/inkscape-tutorial.html">Inkscape Tutorial</a>
            </li>
            <li class="nav-item">
                <a class="nav-link "
                   href="/pages/projects.html">Projects</a>
              </li>
          </ul>

          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link " 
                 href="/pages/about.html">About</a>
            </li>
          </ul>
        </div>

      </div>
    </nav>

   

<div class="container">

  <div class="row">
    <div class="col-lg-8 mx-auto">

      <h2>What is <span class="caps">WSGI</span> Request/Response&nbsp;Process</h2>

      <div class="text-muted mb-2">
        <span>Posted on </span>
        <time datetime="2019-05-04 12:27:00-04:00">
          Saturday, 05/04/2019 12:27
        </time>

        <span>with tags: </span>
        <a href="https://www.georgexyz.com/tag/django.html">django</a>
      </div>

      <p>Most Django tutorials and books do not discuss how the web framework starts and finishes. 
A developer needs to dig into source code and online blog posts to find out how Django 
processes a request. Fortunately many people have written on this topic and 
<a href="https://github.com/django/django/tree/2.2">Django source code</a>
is easily accessible to anyone who is&nbsp;interested. </p>
<p>In this article, I am writing down my understanding of this process. 
A developer does not have to know this process to create great web apps, but it is always 
interesting to know how web framework works behind the scene.  Before we discuss 
Django code, let&#8217;s look at <span class="caps">WSGI</span>&nbsp;first. </p>
<h3><span class="caps">WSGI</span></h3>
<p><span class="caps">WSGI</span> is an abbreviation for Web Server Gateway Interface, which is a &#8220;simple calling 
convention for web servers to forward requests to web applications for frameworks written
in Python.&#8221;   <span class="caps">WSGI</span> is part of Python ecosystem.  It was originally specified in <span class="caps">PEP</span>-333
in 2003, and was updated to <span class="caps">PEP</span>-3333 for python 3 in 2010.   Python standard library even 
has a wsgiref <span class="caps">WSGI</span> reference server built&nbsp;in. </p>
<p>The best writing on <span class="caps">WSGI</span> is probably 
<a href="http://lucumr.pocoo.org/2007/5/21/getting-started-with-wsgi/">a blog post</a> 
by Armin Ronacher, who is the creator of Flask web framework and many other open 
source Python packages.   Three code examples in this article are fantastic 
prototypes showing how <span class="caps">WSGI</span> and web framework work.  I would suggest anyone 
who is interested to read the article multiple times to get a good understanding 
of the topic.  The article was written in 2007 with Python 2.  A developer needs to
make small changes to the code for Python 3.  Here are 
<a href="https://github.com/georgexyz19/WSGI_example_code">the example code</a> 
I modified for Python&nbsp;3.</p>
<p>Why do we need to know <span class="caps">WSGI</span>? A Python web app is essentially an <span class="caps">WSGI</span> app. A
web framework like Django adds many other functions such as database handling and 
template processing to generate html&nbsp;files. </p>
<h3>Other&nbsp;Articles</h3>
<p>After several google searches, I found a few related articles on the topic.  Those articles 
were written a few years ago, but most contents still apply to 
Django 2.2 which is the version I am looking at&nbsp;now.</p>
<p><a href="https://simonwillison.net/2005/Aug/15/request/">An article by Simon Willison</a> 
in 2005 is an early discussion on the topic.  This article does not contain any code. 
The ModPythonHandler class has been removed from recent Django releases. The article 
presents a good overview on how Django processes a request and how middleware&nbsp;works. </p>
<p>James Bennett wrote 
<a href="https://www.b-list.org/weblog/2006/jun/13/how-django-processes-request/">a long article</a> 
on his blog discussing how Django processes a request in 20016. The contents of the 
article are still very relevant&nbsp;today. </p>
<p><a href="https://k4ml.me/posts/django-where-does-the-application-start.html">Another article</a> 
written by Kamal Mustafa is closer to what I am looking for.  The article discusses 
Django code and traces through several functions and&nbsp;classes. </p>
<p>Brian Rosner has an interesting 
<a href="https://eldarion.com/blog/2013/02/14/entry-point-hook-django-projects/">short article</a> 
about how to run code when Django starts. We will get back to the example later in this&nbsp;article.</p>
<h3>Django&nbsp;Code</h3>



    </div>
  </div>

</div>

   

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

  </body>
</html>