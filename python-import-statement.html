<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/theme/css/bs4min.css">
    <link rel="shortcut icon" type="image/x-icon" href="/theme/images/favicon.ico" >
    <link rel="icon" type="image/x-icon" href="/theme/images/favicon.ico" >
<link rel="stylesheet" href="https://www.georgexyz.com/theme/css/friendly.css">
<link rel="stylesheet" href="https://www.georgexyz.com/theme/css/custom.css">
<meta name="author" content="George Zhang" />
<meta name="keywords" content="flask,python" />
<meta name="description" content="Python import statement seems very easy to use, but it can get complicated once the project scale becomes larger. It is one of those things that is easy to learn …" />
    <title>Python Import Statement - George Zhang</title>
  </head>
  <body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-md navbar-light" style="background-color: #e3f2fd;">
      <div class="container">
        <a class="navbar-brand" href="/">George Zhang</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarColor01">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link " 
                href="/articlelist.html">Articles</a>
            </li>
            <li class="nav-item">
              <a class="nav-link pr-3 " 
                href="/tags.html">Tags</a>
            </li>
            <li class="nav-item">
                <a class="nav-link "
                   href="/pages/projects.html">Projects</a>
              </li>
          </ul>

          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link " 
                 href="/pages/about.html">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

   

<div class="container">

  <div class="row">
    <div class="col-lg-8 mx-auto">

      <h2>Python Import Statement</h2>

      <div class="text-muted mb-2">
        <span>Posted on </span>
        <time datetime="2021-03-25 09:40:00-04:00">
          Thursday, 03/25/2021 09:40
        </time>

        <span>with tags: </span>
        <a href="https://www.georgexyz.com/tag/flask.html">flask</a>
/        <a href="https://www.georgexyz.com/tag/python.html">python</a>
      </div>

      <p>Python import statement seems very easy to use, but it can get complicated once the project 
scale becomes larger. It is one of those things that is easy to learn by looking at an example. 
Miguel Grinberg&#8217;s book <em>Flask Web Development</em> Chapter 7 has such an example. The flask apps 
project structure looks like this.  </p>
<div style="margin-left: 20px">
<pre>
flasky
├── app
│   ├── email.py
│   ├── __init__.py
│   ├── main
│   │   ├── errors.py
│   │   ├── forms.py
│   │   ├── __init__.py
│   │   └── views.py
│   ├── models.py
│   ├── static
│   │   └── favicon.ico
│   └── templates
│       ├── 404.html
│       ├── 500.html
│       ├── base.html
│       ├── index.html
│       ├── mail
│       │   ├── new_user.html
│       │   └── new_user.txt
│       └── user.html
├── config.py
├── data.sqlite
├── hello.py
├── migrations
├── README.md
├── requirements.txt
├── set_env.sh
├── set_mail.sh
└── tests
    ├── __init__.py
    └── test_basics.py
7 directories, 24 files
</pre>
</div>

<p>When you are running the app (command <code>flask run</code>), you are in the <code>/flasky</code> directory. 
The <code>app/__init__.py</code> file defines a <code>create_app</code> function which is the app factory. It 
imports <code>config</code> dict from <code>config.py</code> file like this. </p>
<div class="highlight"><pre><span></span><code>from config import config
</code></pre></div>

<p>The <code>flasky.py</code> file imports the <code>create_app</code> from <code>app/__init__.py</code>. Here you can 
think of <code>app/__init__.py</code> as an <code>app.py</code> file. The <code>flasky.py</code> also imports db models 
from <code>app/models.py</code>.</p>
<div class="highlight"><pre><span></span><code>from app import create_app
from app.model import User
</code></pre></div>

<p>The <code>test_basics.py</code> file also imports <code>create_app</code>. It uses the same import statement 
shown above. You can look at <code>app</code> here similar to an absolution path. </p>
<p>Relative path is a little more difficult. The <code>app/main/views.py</code> file imports <code>User</code> 
model from <code>app/models.py</code> file. The statement looks like this. The first dot(.) goes 
into <code>app/main</code> directiory, and the second dot goest into <code>app</code> directory. </p>
<div class="highlight"><pre><span></span><code>from ..models import User
# from app.models import User  # could be
</code></pre></div>

<p>The interesting import statement is a circular one.  The <code>app/main/__init__.py</code> file 
imports views and errors modules at the end of the file. This import statement causes
the code in <code>views.py</code> and <code>errors.py</code> to run.  The purpose is to register view functions 
and error handler functions (via decorators). </p>
<div class="highlight"><pre><span></span><code># app/main/__init__.py
from flask import Blueprint
main = Blueprint(&#39;main&#39;, __name__)
from . import views, errors  # MUST be at the end of the file
</code></pre></div>

<p>The <code>app/main/view.py</code> file also imports <code>main</code> from <code>app/main/__init__.py</code> 
like this. </p>
<div class="highlight"><pre><span></span><code>from . import main
@main.route(...)
</code></pre></div>



    </div>
  </div>

</div>

   
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>